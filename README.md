# html5Lock
html5滑动解锁--360前端星计划作业

# 手势解锁思路
## 前期思考：
	读完题目，要求是模拟手机解锁的一个页面，这就需要识别手势操作并且动态在页面上绘制手势路线，因此技术上想到的是采用canvas+touch事件+localStorage完成作业。
作业过程：
## 1.设计页面结构
	页面结构采用简洁式，上方是提示标题，中间内容部分是解锁面板，下方是一组单选按钮组，上中下包在一个容器内，这个容器垂直居中。
## 2.页面实现
	1)初始化面板（在初始化的时候用canvas绘制解锁图案——9个圆圈）
	2)设计一个passwordObj(密码对象)用来存储密码以及当前用户的状态,
	  当前用户的状态obj.status可以分为初始化还未输入密码(0)->第一次输入解锁图案(1)->确认解锁图案(2)
	  对应状态系统自动判断当前执行的手势操作是哪种操作，比如status=0，表示用户未设置过手势密码提示
	  设置密码，为1表示设置了一次密码提示确认密码，为2表示已经设置过密码，可以进行相应的解锁操作
	3）在页面绑定touch事件
	   -touchstart
	   在touchstart时间内，判断起始点位置找到解锁手势的第一个点并把它放入selectArray内，并把该点从restArray中移除（同一个点不能出现两次）
	   -touchmove(核心事件)
	   在touchmove内绑定核心计算方法，判断手指划过位置与解锁面板的8个坐标点之间的距离,如果距离小于绘制的圆的半径说明该点也被选中，存入
	   selectArray数组，从restArray中将其移除
	   -touchend事件
	   touchmove事件出来之后会得到用户的解锁密码数组selectArray,通过passwordObj.status判断是解锁操作还是初始化存密码的操作。
## 3.其他相关内容
	1)localStorage封装
		使用localStorage需要注意的是它在客户端是共享的，如果其他页面有一个同名的localStorage，可能会对页面造成影响，因此，提前对localStorage
		进行了封装操作，加上了'zhoudey_lock_'的前缀，之后可以放心使用自己设定的localStorage的手势密码内容了。
	2）toast提示
		通过js和css封装了一个简易版toast提示，用来提供用户成功失败相关信息，弹窗支持error模式（绿色提示）和success(绿色提示)模式。
	3）单选按钮组的状态判断
		初始化时默认选中'设置密码'
		当localStorage中存在password的时候默认选中'解锁密码'
		如果localStorage中不存在password，用户点击'解锁密码'提示未设置过密码，并将'设置密码选中'
	4）有待改进
		还可以再封装一个简易的modal框，在用户选择重置密码的时候提示是否确认要重置密码。这样做避免用户误操作带来的影响，可以让用户体验感更好
		时间关系没有去写。
